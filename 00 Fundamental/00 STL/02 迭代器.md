# 迭代器

- 每种容器类型都定义了自己的迭代器类型

- 迭代器可通过解引用运算符访问容器中的元素，使用++、--等操作

- 迭代器：类似智能指针。

  ## 成员函数

  - begin() -、end()
  - cbegin()、cend()
  - rbegin() 、rend()
  - crbegin()、crend()

  `注意：成员函数 begin/rbegin/end/redn 是重载过的`

  ## 说明（一） : vector 容器

  ```c++
  // vector 容器
  vector<int> v1 = { 1, 2, 3 };
  ```

  ### 普通迭代器

  普通迭代器可以对容器迭代进行读、写操作。

  #### 正向迭代器：iterator

  - begin() - 首地址
  - end () - 尾地址后一个地址

  ```c++
  // 正向迭代器 iterator : begin - 首地址， end - 尾地址
  vector<int>::iterator it1_begin = v1.begin();
  vector<int>::iterator it1_end = v1.end();
  ```

  #### 反向迭代器：reverse_iterator

  - rbegin() - 尾地址
  - rend () - 首地址前一地址

  ```c++
  // 反向迭代器 reverse_iterator ： rbegin - 尾地址	rend - 首地址
  vector<int>::reverse_iterator it1_rbegin = v1.rbegin();
  vector<int>::reverse_iterator it1_rend = v1.rend();
  ```

  ### const 迭代器

  const 迭代器对容器迭代进行 **只读** 操作，不能改变容器原本元素的值。

  正向迭代器具：

  #### 正向 const 迭代器 ： const_iterator

  - cbegin() - 首地址
  - cend () - 尾地址后一地址

  ```c++
  // 正向 const 迭代器 const_iterator : cbegin - 首地址	cend() -尾地址
  vector<int>::const_iterator it1_cbegin = v1.cbegin();
  vector<int>::const_iterator it1_cend = v1.cend();
  ```

  #### 反向 const 迭代器 ： const_reverse_iterator

  - crbegin() - 尾地址
  - crend() - 首地址前一地址

  ```c++
  // 反向 const 迭代器 const_reverse_iterator : crbegin - 尾地址	crend() - 首地址
  vector<int>::const_reverse_iterator it1_crbegin = v1.crbegin();
  vector<int>::const_reverse_iterator it1_crend = v1.crend();
  ```

  

  

  ## 说明（二）: vector 与 const vector 的区别

  ```c++
  const vector<int> v2 = {1,2,3};
  
  auto it11 = v1.begin();	// it11 是 vector<int>::iterator
  auto it22 = v2.begin();	// it22 是 vector<int>::const_iterator
  
  *it11 = 11;	//	解引用访问
  // *it22 = 10; // Error : const 迭代容器，只读不写
  cout << *it22 << endl;	// const 迭代容器，只读不写
  ```

## 说明（三）：成员函数也可以对内置容器使用

```c++
it1_begin = std::begin(v1);
it1_cbegin = std::cbegin(v1);
it1_rbegin = std::rbegin(v1);
it1_crbegin = std::crbegin(v1);

std::cend(v1);
```

### 说明（四）：迭代器范围

![](Resources/01.jpg)

#### 正向迭代器范围 ：`左闭右开 [begin, end)`

- begin() - 首地址
- end() - 尾地址后一个地址

```c++
while (it1_cbegin != cend(v1)) {
    cout << *it1_c << " ";
    ++it1_c;
}

// 11 2 3
```

#### 反向迭代器范围：`左开右闭(rend,rbegin]，且 ++ 是从后向前的`

- rbegin() - 尾地址
- rend() - 首地址前一个地址

```c++
while (it1_rend != redn(v1)) {
    cout << *it1_c4 << " ";
    ++it1_rend;
}

// 3 2 11
```

